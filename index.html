<!DOCTYPE html>
<html>
<head>
<title>Catch the Red Square - Admin</title>
<style>
body { margin:0; background:#222; color:white; text-align:center; font-family:sans-serif; }
canvas { background:#000; display:block; margin:20px auto; border:2px solid white; }

/* Admin panel */
#adminPanel {
  position: fixed;
  bottom: 10px;
  left: 10px;
  background: rgba(0,0,0,0.6);
  border: 1px solid white;
  border-radius: 8px;
  padding: 5px;
  z-index: 1000;
}
#cmd { padding:5px; }
</style>
</head>
<body>

<h1>Catch the Red Square!</h1>

<!-- Admin panel -->
<div id="adminPanel">
  <input id="cmd" placeholder="admin command...">
  <button onclick="runCmd()">Run</button>
</div>

<canvas id="gameCanvas" width="400" height="400"></canvas>

<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');

let player = {x:180, y:180, size:40};
let target = {x:Math.random()*360, y:Math.random()*360, size:30};
let score = 0;

let playerSpeed = 10;
let targetColor = 'yellow';
let frozen = false;

// -----------------------
// Admin password setup
let admin = false;
const adminPassword = "mypassword123"; // CHANGE THIS

// -----------------------
// Run admin commands
function runCmd() {
    if(!admin) {
        let pw = prompt("Enter admin password:");
        if(pw !== adminPassword) {
            alert("Wrong password!");
            document.getElementById("cmd").value = "";
            return;
        }
        admin = true;
        alert("Admin access granted!");
    }

    let input = document.getElementById("cmd").value.trim();
    if(!input) return;

    let parts = input.split(" ");
    let cmd = parts[0].toLowerCase();
    let arg = parts[1];

    switch(cmd) {
        case "speed": playerSpeed = 20; break;
        case "slow": playerSpeed = 10; break;
        case "tp": target.x = Math.random()*360; target.y = Math.random()*360; break;
        case "color": if(arg) targetColor = arg; break;
        case "size": if(arg && !isNaN(parseInt(arg))) player.size = parseInt(arg); break;
        case "score": if(arg && !isNaN(parseInt(arg))) score = parseInt(arg); break;
        case "freeze": frozen = true; break;
        case "spawn": alert("Spawn command not implemented yet"); break;
        case "reset": 
            player.x=180; player.y=180;
            target.x=Math.random()*360; target.y=Math.random()*360;
            score=0; frozen=false;
            break;
        case "god": alert("God mode activated!"); break;
        default: alert("Unknown command!");
    }

    document.getElementById("cmd").value = "";
    draw();
}

// -----------------------
// Keyboard controls
document.addEventListener('keydown', e => {
    if(e.key === 'ArrowUp') player.y -= playerSpeed;
    if(e.key === 'ArrowDown') player.y += playerSpeed;
    if(e.key === 'ArrowLeft') player.x -= playerSpeed;
    if(e.key === 'ArrowRight') player.x += playerSpeed;
});

// -----------------------
// Game loop
function draw() {
    ctx.clearRect(0,0,canvas.width,canvas.height);

    // player
    ctx.fillStyle='red';
    ctx.fillRect(player.x, player.y, player.size, player.size);

    // target
    ctx.fillStyle = targetColor;
    ctx.fillRect(target.x, target.y, target.size, target.size);

    // score
    ctx.fillStyle='white';
    ctx.font='20px sans-serif';
    ctx.fillText('Score: ' + score, 10, 20);
}

function update() {
    if(!frozen && player.x < target.x + target.size &&
       player.x + player.size > target.x &&
       player.y < target.y + target.size &&
       player.y + player.size > target.y){
        score++;
        target.x = Math.random()*360;
        target.y = Math.random()*360;
    }

    player.x = Math.max(0, Math.min(400-player.size, player.x));
    player.y = Math.max(0, Math.min(400-player.size, player.y));
}

function loop() { update(); draw(); requestAnimationFrame(loop); }
loop();
</script>

</body>
</html>

